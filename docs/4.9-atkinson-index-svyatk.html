<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="4.9 Atkinson index (svyatk) | Poverty and Inequality with Complex Survey Data" />
<meta property="og:type" content="book" />

<meta property="og:description" content="A book about the R convey package" />
<meta name="github-repo" content="guilhermejacob/context" />

<meta name="author" content="Guilherme Jacob, Anthony Damico, and Djalma Pessoa" />

<meta name="date" content="2023-10-17" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="A book about the R convey package">

<title>4.9 Atkinson index (svyatk) | Poverty and Inequality with Complex Survey Data</title>

<link href="libs/tufte-css-2015.12.29/tufte-fonts.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-background.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-italics.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="toc.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="1.1-install.html#install" id="toc-install"><span class="toc-section-number">1.1</span> Installation</a></li>
<li><a href="1.2-survey.html#survey" id="toc-survey"><span class="toc-section-number">1.2</span> Complex surveys and statistical inference</a></li>
<li class="has-sub"><a href="1.3-variance-estimation-linearization-and-replication-based-methods.html#variance-estimation-linearization-and-replication-based-methods" id="toc-variance-estimation-linearization-and-replication-based-methods"><span class="toc-section-number">1.3</span> Variance Estimation: Linearization and Replication-Based Methods</a>
<ul>
<li><a href="1.3-variance-estimation-linearization-and-replication-based-methods.html#linearized-designs" id="toc-linearized-designs"><span class="toc-section-number">1.3.1</span> Linearized Designs</a></li>
<li><a href="1.3-variance-estimation-linearization-and-replication-based-methods.html#replication-designs" id="toc-replication-designs"><span class="toc-section-number">1.3.2</span> Replication Designs</a></li>
</ul></li>
<li><a href="1.4-usage-examples.html#usage-examples" id="toc-usage-examples"><span class="toc-section-number">1.4</span> Usage Examples</a></li>
</ul></li>
<li class="has-sub"><a href="2-lin.html#lin" id="toc-lin"><span class="toc-section-number">2</span> Linearization-Based Variance Estimation</a>
<ul>
<li><a href="2.1-var.html#var" id="toc-var"><span class="toc-section-number">2.1</span> The Variance Estimator</a></li>
<li class="has-sub"><a href="2.2-influence-functions.html#influence-functions" id="toc-influence-functions"><span class="toc-section-number">2.2</span> Influence Functions</a>
<ul>
<li><a href="2.2-influence-functions.html#influence-function-examples" id="toc-influence-function-examples"><span class="toc-section-number">2.2.1</span> Influence Function Examples</a></li>
</ul></li>
<li class="has-sub"><a href="2.3-linearization.html#linearization" id="toc-linearization"><span class="toc-section-number">2.3</span> Linearization</a>
<ul>
<li><a href="2.3-linearization.html#linearization-examples-using-the-influence-function" id="toc-linearization-examples-using-the-influence-function"><span class="toc-section-number">2.3.1</span> Linearization Examples Using the Influence Function</a></li>
</ul></li>
<li class="has-sub"><a href="2.4-decomposition.html#decomposition" id="toc-decomposition"><span class="toc-section-number">2.4</span> Decomposition</a>
<ul>
<li><a href="2.4-decomposition.html#decomposition-example" id="toc-decomposition-example"><span class="toc-section-number">2.4.1</span> Decomposition Example</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="3-poverty.html#poverty" id="toc-poverty"><span class="toc-section-number">3</span> Poverty Indices</a>
<ul>
<li class="has-sub"><a href="3.1-at-risk-of-poverty-threshold-svyarpt.html#at-risk-of-poverty-threshold-svyarpt" id="toc-at-risk-of-poverty-threshold-svyarpt"><span class="toc-section-number">3.1</span> At Risk of Poverty Threshold (svyarpt)</a>
<ul>
<li><a href="3.1-at-risk-of-poverty-threshold-svyarpt.html#replication-example" id="toc-replication-example"><span class="toc-section-number">3.1.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="3.2-at-risk-of-poverty-ratio-svyarpr.html#at-risk-of-poverty-ratio-svyarpr" id="toc-at-risk-of-poverty-ratio-svyarpr"><span class="toc-section-number">3.2</span> At Risk of Poverty Ratio (svyarpr)</a>
<ul>
<li><a href="3.2-at-risk-of-poverty-ratio-svyarpr.html#replication-example-1" id="toc-replication-example-1"><span class="toc-section-number">3.2.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="3.3-relative-median-income-ratio-svyrmir.html#relative-median-income-ratio-svyrmir" id="toc-relative-median-income-ratio-svyrmir"><span class="toc-section-number">3.3</span> Relative Median Income Ratio (svyrmir)</a>
<ul>
<li><a href="3.3-relative-median-income-ratio-svyrmir.html#replication-example-2" id="toc-replication-example-2"><span class="toc-section-number">3.3.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="3.4-relative-median-poverty-gap-svyrmpg.html#relative-median-poverty-gap-svyrmpg" id="toc-relative-median-poverty-gap-svyrmpg"><span class="toc-section-number">3.4</span> Relative Median Poverty Gap (svyrmpg)</a>
<ul>
<li><a href="3.4-relative-median-poverty-gap-svyrmpg.html#replication-example-3" id="toc-replication-example-3"><span class="toc-section-number">3.4.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="3.5-median-income-below-the-at-risk-of-poverty-threshold-svypoormed.html#median-income-below-the-at-risk-of-poverty-threshold-svypoormed" id="toc-median-income-below-the-at-risk-of-poverty-threshold-svypoormed"><span class="toc-section-number">3.5</span> Median Income Below the At Risk of Poverty Threshold (svypoormed)</a>
<ul>
<li><a href="3.5-median-income-below-the-at-risk-of-poverty-threshold-svypoormed.html#replication-example-4" id="toc-replication-example-4"><span class="toc-section-number">3.5.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="3.6-foster-greer-thorbecke-class-svyfgt-svyfgtdec.html#foster-greer-thorbecke-class-svyfgt-svyfgtdec" id="toc-foster-greer-thorbecke-class-svyfgt-svyfgtdec"><span class="toc-section-number">3.6</span> Foster-Greer-Thorbecke class (svyfgt, svyfgtdec)</a>
<ul>
<li><a href="3.6-foster-greer-thorbecke-class-svyfgt-svyfgtdec.html#replication-example-5" id="toc-replication-example-5"><span class="toc-section-number">3.6.1</span> Replication Example</a></li>
<li><a href="3.6-foster-greer-thorbecke-class-svyfgt-svyfgtdec.html#monte-carlo-simulation" id="toc-monte-carlo-simulation"><span class="toc-section-number">3.6.2</span> Monte Carlo Simulation</a></li>
</ul></li>
<li class="has-sub"><a href="3.7-watts-poverty-measure-svywatts-svywattsdec.html#watts-poverty-measure-svywatts-svywattsdec" id="toc-watts-poverty-measure-svywatts-svywattsdec"><span class="toc-section-number">3.7</span> Watts poverty measure (svywatts, svywattsdec)</a>
<ul>
<li><a href="3.7-watts-poverty-measure-svywatts-svywattsdec.html#monte-carlo-simulation-1" id="toc-monte-carlo-simulation-1"><span class="toc-section-number">3.7.1</span> Monte Carlo Simulation</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="4-inequality.html#inequality" id="toc-inequality"><span class="toc-section-number">4</span> Inequality Measurement</a>
<ul>
<li><a href="4.1-which-inequality-measure-should-be-used.html#which-inequality-measure-should-be-used" id="toc-which-inequality-measure-should-be-used"><span class="toc-section-number">4.1</span> Which inequality measure should be used?</a></li>
<li class="has-sub"><a href="4.2-the-gender-pay-gap-svygpg.html#the-gender-pay-gap-svygpg" id="toc-the-gender-pay-gap-svygpg"><span class="toc-section-number">4.2</span> The Gender Pay Gap (svygpg)</a>
<ul>
<li><a href="4.2-the-gender-pay-gap-svygpg.html#replication-example-6" id="toc-replication-example-6"><span class="toc-section-number">4.2.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="4.3-quintile-share-ratio-svyqsr.html#quintile-share-ratio-svyqsr" id="toc-quintile-share-ratio-svyqsr"><span class="toc-section-number">4.3</span> Quintile Share Ratio (svyqsr)</a>
<ul>
<li><a href="4.3-quintile-share-ratio-svyqsr.html#replication-example-7" id="toc-replication-example-7"><span class="toc-section-number">4.3.1</span> Replication Example</a></li>
</ul></li>
<li><a href="4.4-lorenz-curve-based-measures.html#lorenz-curve-based-measures" id="toc-lorenz-curve-based-measures"><span class="toc-section-number">4.4</span> Lorenz Curve-based Measures</a></li>
<li class="has-sub"><a href="4.5-lorenz-curve-svylorenz.html#lorenz-curve-svylorenz" id="toc-lorenz-curve-svylorenz"><span class="toc-section-number">4.5</span> Lorenz Curve (svylorenz)</a>
<ul>
<li><a href="4.5-lorenz-curve-svylorenz.html#replication-example-8" id="toc-replication-example-8"><span class="toc-section-number">4.5.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="4.6-gini-index-svygini.html#gini-index-svygini" id="toc-gini-index-svygini"><span class="toc-section-number">4.6</span> Gini index (svygini)</a>
<ul>
<li><a href="4.6-gini-index-svygini.html#replication-example-9" id="toc-replication-example-9"><span class="toc-section-number">4.6.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="4.7-zenga-index-svyzenga.html#zenga-index-svyzenga" id="toc-zenga-index-svyzenga"><span class="toc-section-number">4.7</span> Zenga index (svyzenga)</a>
<ul>
<li><a href="4.7-zenga-index-svyzenga.html#replication-example-10" id="toc-replication-example-10"><span class="toc-section-number">4.7.1</span> Replication Example</a></li>
</ul></li>
<li><a href="4.8-social-welfare-function-based-measures.html#social-welfare-function-based-measures" id="toc-social-welfare-function-based-measures"><span class="toc-section-number">4.8</span> Social Welfare Function-based Measures</a></li>
<li class="has-sub"><a href="4.9-atkinson-index-svyatk.html#atkinson-index-svyatk" id="toc-atkinson-index-svyatk"><span class="toc-section-number">4.9</span> Atkinson index (svyatk)</a>
<ul>
<li><a href="4.9-atkinson-index-svyatk.html#replication-example-11" id="toc-replication-example-11"><span class="toc-section-number">4.9.1</span> Replication Example</a></li>
</ul></li>
<li><a href="4.10-entropy-based-measures.html#entropy-based-measures" id="toc-entropy-based-measures"><span class="toc-section-number">4.10</span> Entropy-based Measures</a></li>
<li class="has-sub"><a href="4.11-generalized-entropy-and-decomposition-svygei-svygeidec.html#generalized-entropy-and-decomposition-svygei-svygeidec" id="toc-generalized-entropy-and-decomposition-svygei-svygeidec"><span class="toc-section-number">4.11</span> Generalized Entropy and Decomposition (svygei, svygeidec)</a>
<ul>
<li><a href="4.11-generalized-entropy-and-decomposition-svygei-svygeidec.html#replication-example-12" id="toc-replication-example-12"><span class="toc-section-number">4.11.1</span> Replication Example</a></li>
</ul></li>
<li class="has-sub"><a href="4.12-j-divergence-and-decomposition-svyjdiv-svyjdivdec.html#j-divergence-and-decomposition-svyjdiv-svyjdivdec" id="toc-j-divergence-and-decomposition-svyjdiv-svyjdivdec"><span class="toc-section-number">4.12</span> J-Divergence and Decomposition (svyjdiv, svyjdivdec)</a>
<ul>
<li><a href="4.12-j-divergence-and-decomposition-svyjdiv-svyjdivdec.html#monte-carlo-simulation-2" id="toc-monte-carlo-simulation-2"><span class="toc-section-number">4.12.1</span> Monte Carlo Simulation</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="5-richness.html#richness" id="toc-richness"><span class="toc-section-number">5</span> Richness</a>
<ul>
<li class="has-sub"><a href="5.1-richness-measures.html#richness-measures" id="toc-richness-measures"><span class="toc-section-number">5.1</span> Richness Measures</a>
<ul>
<li><a href="5.1-richness-measures.html#monte-carlo-simulation-3" id="toc-monte-carlo-simulation-3"><span class="toc-section-number">5.1.1</span> Monte Carlo Simulation</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="6-future-research.html#future-research" id="toc-future-research"><span class="toc-section-number">6</span> Future Research</a>
<ul>
<li class="has-sub"><a href="6.1-multidimensional-poverty.html#multidimensional-poverty" id="toc-multidimensional-poverty"><span class="toc-section-number">6.1</span> Multidimensional Poverty</a>
<ul>
<li><a href="6.1-multidimensional-poverty.html#example-calculation" id="toc-example-calculation"><span class="toc-section-number">6.1.1</span> Example Calculation</a></li>
</ul></li>
<li class="has-sub"><a href="6.2-covariance-matrix.html#covariance-matrix" id="toc-covariance-matrix"><span class="toc-section-number">6.2</span> Covariance Matrix</a>
<ul>
<li><a href="6.2-covariance-matrix.html#example-calculation-1" id="toc-example-calculation-1"><span class="toc-section-number">6.2.1</span> Example Calculation</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="atkinson-index-svyatk" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Atkinson index (svyatk)</h2>
<p><span class="citation">Dalton (<label for="tufte-mn-82" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-82" class="margin-toggle">1920<span class="marginnote">Dalton, Hugh. 1920. <span>“The Measurement of the Inequality of Incomes.”</span> <em>The Economic Journal</em> 30 (September). <a href="https://doi.org/10.2307/2223525">https://doi.org/10.2307/2223525</a>.</span>)</span> pointed out one of the most important facts about the economic theory
of income inequality measurement: every income inequality measure has an implicit
social welfare function (SWF).<label for="tufte-sn-5" class="margin-toggle sidenote-number">5</label><input type="checkbox" id="tufte-sn-5" class="margin-toggle"><span class="sidenote"><span class="sidenote-number">5</span> This is the subject of an interesting discussion between the British and the Italian schools of inequality measurement.</span>
More formally, <span class="citation">Atkinson (<label for="tufte-mn-83" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-83" class="margin-toggle">1970<span class="marginnote">Atkinson, Anthony B. 1970. <span>“On the Measurement of Inequality.”</span> <em>Journal of Economic Theory</em> 2 (3): 244–63. <a href="https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html">https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html</a>.</span>)</span> represent the SWF by an additively
separable and symmetric function</p>
<p><span class="math display">\[
W ( y ) = \int_0^{+\infty} U ( y ) f( y ) dy
\]</span>
where <span class="math inline">\(U( y )\)</span> is a twice differentiable, increasing and concave utility function.
The utility function “weights” the individual income <span class="math inline">\(y\)</span> on the (overall) social welfare.<label for="tufte-sn-6" class="margin-toggle sidenote-number">6</label><input type="checkbox" id="tufte-sn-6" class="margin-toggle"><span class="sidenote"><span class="sidenote-number">6</span> The utility is not what the welfare that the individual attributes to its own income, but the social welfare that the society attributes to an individual with that level of income.</span>
Saying that “<span class="math inline">\(U ( y )\)</span> is increasing in <span class="math inline">\(y\)</span>” means that more income means more individual utility,
while “<span class="math inline">\(U ( y )\)</span> is concave” means that (individual) welfare grows less for every income increase.</p>
<p><span class="citation">Atkinson (<label for="tufte-mn-84" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-84" class="margin-toggle">1970, 250<span class="marginnote">Atkinson, Anthony B. 1970. <span>“On the Measurement of Inequality.”</span> <em>Journal of Economic Theory</em> 2 (3): 244–63. <a href="https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html">https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html</a>.</span>)</span> that we should measure inequality by using the Equally Distriuted Equivalent level of income
<span class="math inline">\(y_{EDE}\)</span>. The <span class="math inline">\(y_{EDE}\)</span> is the level of income that would lead to the observed level welfare if income was equally distributed.
In mathematical terms, the <span class="math inline">\(y_{EDE}\)</span> is defined as:</p>
<p><span class="math display">\[
\begin{aligned}
W( y_{EDE} \cdot \mathbb{1} ) &amp;= W( y ) \\
\int_0^{+\infty} U ( y_{EDE} ) f( y ) dy &amp;= \int_0^{+\infty} U ( y ) f( y ) dy \\
U ( y_{EDE} ) \int_0^{+\infty}  f( y ) dy &amp;= \int_0^{+\infty} U ( y ) f( y ) dy \\
\therefore \quad y_{EDE} :\quad U ( y_{EDE} )  &amp;= \int_0^{+\infty} U ( y ) f( y ) dy
\end{aligned}
\]</span></p>
<p>By using this concept, <span class="citation">Atkinson (<label for="tufte-mn-85" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-85" class="margin-toggle">1970<span class="marginnote">Atkinson, Anthony B. 1970. <span>“On the Measurement of Inequality.”</span> <em>Journal of Economic Theory</em> 2 (3): 244–63. <a href="https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html">https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html</a>.</span>)</span> proposed measuring inequality as</p>
<p><span class="math display">\[
I = 1 - \frac{ y_{EDE}}{ \mu }
\]</span></p>
<p>where <span class="math inline">\(\mu\)</span> is the average income.
Once a suitable form <span class="math inline">\(U\)</span> is defined, this index has a direct interpretation in terms of social welfare;
e.g., for a given level <span class="math inline">\(I\)</span>, it means that, if we could equally redistribute income from the distribution, we would only need
about <span class="math inline">\((1 - I)\%\)</span> of the current average income to reach the same level of social welfare.</p>
<p>However, in order to completely rank distributions, we need to impose more restrictions
on the form of <span class="math inline">\(U(y)\)</span>.
Based on results from the theory of choice under uncertainty, <span class="citation">Atkinson (<label for="tufte-mn-86" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-86" class="margin-toggle">1970<span class="marginnote">Atkinson, Anthony B. 1970. <span>“On the Measurement of Inequality.”</span> <em>Journal of Economic Theory</em> 2 (3): 244–63. <a href="https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html">https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html</a>.</span>)</span>
suggests a class of utility functions given by</p>
<p><span class="math display">\[
U( y , \epsilon ) =
\begin{cases}
A + B \frac{y^{1 - \epsilon}}{1 - \epsilon} , &amp;\epsilon \neq 1 \\
\log y , &amp;\epsilon \neq 1
\end{cases}
\]</span></p>
<p>where <span class="math inline">\(\epsilon\)</span> is an inequality-aversion (scalar) parameter: as it
approaches infinity, more weight is given to lower incomes.</p>
<p>Combining this with his proposed approach, <span class="citation">Atkinson (<label for="tufte-mn-87" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-87" class="margin-toggle">1970<span class="marginnote">Atkinson, Anthony B. 1970. <span>“On the Measurement of Inequality.”</span> <em>Journal of Economic Theory</em> 2 (3): 244–63. <a href="https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html">https://ideas.repec.org/a/eee/jetheo/v2y1970i3p244-263.html</a>.</span>)</span> derives what came to be known as
the Atkinson index:</p>
<p><span class="math display">\[
I_\epsilon =
\begin{cases}
1 - \bigg[ \int_0^{+ \infty} \big( {\frac{y}{\mu} } \big)^{1-\epsilon} f(y) dy \bigg]^{1/(1-\epsilon)} , &amp;\epsilon \neq 1 \\
1 - \exp \bigg[ \int_0^{+ \infty} \log \frac{y}{\mu} f(y) dy \bigg] , &amp;\epsilon \to 1
\end{cases}
\]</span></p>
<p>Although the above form is given terms of a continuous distribution,
the equivalent plug-in estimator we use comes from <span class="citation">Biewen and Jenkins (<label for="tufte-mn-88" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-88" class="margin-toggle">2003<span class="marginnote">Biewen, Martin, and Stephen Jenkins. 2003. <span>“Estimation of Generalized Entropy and Atkinson Inequality Indices from Complex Survey Data.”</span> Discussion Papers of DIW Berlin 345. DIW Berlin, German Institute for Economic Research. <a href="http://EconPapers.repec.org/RePEc:diw:diwwpp:dp345">http://EconPapers.repec.org/RePEc:diw:diwwpp:dp345</a>.</span>)</span>:</p>
<p><span class="math display">\[
\widehat{A}_\epsilon =
\begin{cases}
1 - \widehat{U}_0^{ - \epsilon/(1 - \epsilon) } \widehat{U}_1^{ -1 } \widehat{U}_{1 - \epsilon}^{ 1/(1 - \epsilon) } , &amp;\text{if } \epsilon \in \mathbb{R}_+ \setminus\{ 1 \} \\
1 - \widehat{U}_0 \widehat{U}_0^{-1} exp( \widehat{T}_0 \widehat{U}_0^{-1} ), &amp;\text{if } \epsilon \rightarrow1
\end{cases}
\]</span></p>
<hr />
<div id="replication-example-11" class="section level3" number="4.9.1">
<h3><span class="header-section-number">4.9.1</span> Replication Example</h3>
<p>In July 2006, <span class="citation">Jenkins (<label for="tufte-mn-89" class="margin-toggle">&#8853;</label><input type="checkbox" id="tufte-mn-89" class="margin-toggle">2008<span class="marginnote">Jenkins, Stephen. 2008. <span>“Estimation and Interpretation of Measures of Inequality, Poverty, and Social Welfare Using Stata.”</span> North American Stata Users' Group Meetings 2006. Stata Users Group. <a href="http://EconPapers.repec.org/RePEc:boc:asug06:16">http://EconPapers.repec.org/RePEc:boc:asug06:16</a>.</span>)</span> presented at the North American Stata Users’ Group Meetings on the stata Atkinson Index command. The example below reproduces those statistics.</p>
<p>Load and prepare the same data set:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="4.9-atkinson-index-svyatk.html#cb304-1" tabindex="-1"></a><span class="co"># load the convey package</span></span>
<span id="cb304-2"><a href="4.9-atkinson-index-svyatk.html#cb304-2" tabindex="-1"></a><span class="fu">library</span>(convey)</span>
<span id="cb304-3"><a href="4.9-atkinson-index-svyatk.html#cb304-3" tabindex="-1"></a></span>
<span id="cb304-4"><a href="4.9-atkinson-index-svyatk.html#cb304-4" tabindex="-1"></a><span class="co"># load the survey library</span></span>
<span id="cb304-5"><a href="4.9-atkinson-index-svyatk.html#cb304-5" tabindex="-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb304-6"><a href="4.9-atkinson-index-svyatk.html#cb304-6" tabindex="-1"></a></span>
<span id="cb304-7"><a href="4.9-atkinson-index-svyatk.html#cb304-7" tabindex="-1"></a><span class="co"># load the foreign library</span></span>
<span id="cb304-8"><a href="4.9-atkinson-index-svyatk.html#cb304-8" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb304-9"><a href="4.9-atkinson-index-svyatk.html#cb304-9" tabindex="-1"></a></span>
<span id="cb304-10"><a href="4.9-atkinson-index-svyatk.html#cb304-10" tabindex="-1"></a><span class="co"># create a temporary file on the local disk</span></span>
<span id="cb304-11"><a href="4.9-atkinson-index-svyatk.html#cb304-11" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb304-12"><a href="4.9-atkinson-index-svyatk.html#cb304-12" tabindex="-1"></a></span>
<span id="cb304-13"><a href="4.9-atkinson-index-svyatk.html#cb304-13" tabindex="-1"></a><span class="co"># store the location of the presentation file</span></span>
<span id="cb304-14"><a href="4.9-atkinson-index-svyatk.html#cb304-14" tabindex="-1"></a>presentation_zip <span class="ot">&lt;-</span></span>
<span id="cb304-15"><a href="4.9-atkinson-index-svyatk.html#cb304-15" tabindex="-1"></a>  <span class="st">&quot;http://repec.org/nasug2006/nasug2006_jenkins.zip&quot;</span></span>
<span id="cb304-16"><a href="4.9-atkinson-index-svyatk.html#cb304-16" tabindex="-1"></a></span>
<span id="cb304-17"><a href="4.9-atkinson-index-svyatk.html#cb304-17" tabindex="-1"></a><span class="co"># download jenkins&#39; presentation to the temporary file</span></span>
<span id="cb304-18"><a href="4.9-atkinson-index-svyatk.html#cb304-18" tabindex="-1"></a><span class="fu">download.file</span>(presentation_zip , tf , <span class="at">mode =</span> <span class="st">&#39;wb&#39;</span>)</span>
<span id="cb304-19"><a href="4.9-atkinson-index-svyatk.html#cb304-19" tabindex="-1"></a></span>
<span id="cb304-20"><a href="4.9-atkinson-index-svyatk.html#cb304-20" tabindex="-1"></a><span class="co"># unzip the contents of the archive</span></span>
<span id="cb304-21"><a href="4.9-atkinson-index-svyatk.html#cb304-21" tabindex="-1"></a>presentation_files <span class="ot">&lt;-</span> <span class="fu">unzip</span>(tf , <span class="at">exdir =</span> <span class="fu">tempdir</span>())</span>
<span id="cb304-22"><a href="4.9-atkinson-index-svyatk.html#cb304-22" tabindex="-1"></a></span>
<span id="cb304-23"><a href="4.9-atkinson-index-svyatk.html#cb304-23" tabindex="-1"></a><span class="co"># load the institute for fiscal studies&#39; 1981, 1985, and 1991 data.frame objects</span></span>
<span id="cb304-24"><a href="4.9-atkinson-index-svyatk.html#cb304-24" tabindex="-1"></a>x81 <span class="ot">&lt;-</span></span>
<span id="cb304-25"><a href="4.9-atkinson-index-svyatk.html#cb304-25" tabindex="-1"></a>  <span class="fu">read.dta</span>(<span class="fu">grep</span>(<span class="st">&quot;ifs81&quot;</span> , presentation_files , <span class="at">value =</span> <span class="cn">TRUE</span>))</span>
<span id="cb304-26"><a href="4.9-atkinson-index-svyatk.html#cb304-26" tabindex="-1"></a>x85 <span class="ot">&lt;-</span></span>
<span id="cb304-27"><a href="4.9-atkinson-index-svyatk.html#cb304-27" tabindex="-1"></a>  <span class="fu">read.dta</span>(<span class="fu">grep</span>(<span class="st">&quot;ifs85&quot;</span> , presentation_files , <span class="at">value =</span> <span class="cn">TRUE</span>))</span>
<span id="cb304-28"><a href="4.9-atkinson-index-svyatk.html#cb304-28" tabindex="-1"></a>x91 <span class="ot">&lt;-</span></span>
<span id="cb304-29"><a href="4.9-atkinson-index-svyatk.html#cb304-29" tabindex="-1"></a>  <span class="fu">read.dta</span>(<span class="fu">grep</span>(<span class="st">&quot;ifs91&quot;</span> , presentation_files , <span class="at">value =</span> <span class="cn">TRUE</span>))</span>
<span id="cb304-30"><a href="4.9-atkinson-index-svyatk.html#cb304-30" tabindex="-1"></a></span>
<span id="cb304-31"><a href="4.9-atkinson-index-svyatk.html#cb304-31" tabindex="-1"></a><span class="co"># stack each of these three years of data into a single data.frame</span></span>
<span id="cb304-32"><a href="4.9-atkinson-index-svyatk.html#cb304-32" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rbind</span>(x81 , x85 , x91)</span></code></pre></div>
<p>Replicate the author’s survey design statement from stata code..</p>
<pre><code>. * account for clustering within HHs 
. version 8: svyset [pweight = wgt], psu(hrn)
pweight is wgt
psu is hrn
construct an</code></pre>
<p>.. into R code:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="4.9-atkinson-index-svyatk.html#cb306-1" tabindex="-1"></a><span class="co"># initiate a linearized survey design object</span></span>
<span id="cb306-2"><a href="4.9-atkinson-index-svyatk.html#cb306-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">svydesign</span>( <span class="sc">~</span> hrn , <span class="at">data =</span> x , <span class="at">weights =</span> <span class="sc">~</span> wgt)</span>
<span id="cb306-3"><a href="4.9-atkinson-index-svyatk.html#cb306-3" tabindex="-1"></a></span>
<span id="cb306-4"><a href="4.9-atkinson-index-svyatk.html#cb306-4" tabindex="-1"></a><span class="co"># immediately run the `convey_prep` function on the survey design</span></span>
<span id="cb306-5"><a href="4.9-atkinson-index-svyatk.html#cb306-5" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">convey_prep</span>(y)</span></code></pre></div>
<p>Replicate the author’s subset statement and each of his svyatk results with stata..</p>
<pre><code>. svyatk x if year == 1981
 
Warning: x has 20 values = 0. Not used in calculations

Complex survey estimates of Atkinson inequality indices
 
pweight: wgt                                   Number of obs    = 9752
Strata: &lt;one&gt;                                  Number of strata = 1
PSU: hrn                                       Number of PSUs   = 7459
                                               Population size  = 54766261
---------------------------------------------------------------------------
Index    |  Estimate   Std. Err.      z      P&gt;|z|     [95% Conf. Interval]
---------+-----------------------------------------------------------------
A(0.5)   |  .0543239   .00107583    50.49    0.000      .0522153   .0564324
A(1)     |  .1079964   .00245424    44.00    0.000      .1031862   .1128066
A(1.5)   |  .1701794   .0066943    25.42    0.000       .1570588      .1833
A(2)     |  .2755788   .02597608    10.61    0.000      .2246666    .326491
A(2.5)   |  .4992701   .06754311     7.39    0.000       .366888   .6316522
---------------------------------------------------------------------------</code></pre>
<p>..using R code:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="4.9-atkinson-index-svyatk.html#cb308-1" tabindex="-1"></a>z81 <span class="ot">&lt;-</span> <span class="fu">subset</span>(z , year <span class="sc">==</span> <span class="dv">1981</span>)</span>
<span id="cb308-2"><a href="4.9-atkinson-index-svyatk.html#cb308-2" tabindex="-1"></a></span>
<span id="cb308-3"><a href="4.9-atkinson-index-svyatk.html#cb308-3" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , <span class="fu">subset</span>(z81 , eybhc0 <span class="sc">&gt;</span> <span class="dv">0</span>) , <span class="at">epsilon =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0 0.054324 0.0011</code></pre>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="4.9-atkinson-index-svyatk.html#cb310-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , <span class="fu">subset</span>(z81 , eybhc0 <span class="sc">&gt;</span> <span class="dv">0</span>))</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0    0.108 0.0025</code></pre>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="4.9-atkinson-index-svyatk.html#cb312-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , <span class="fu">subset</span>(z81 , eybhc0 <span class="sc">&gt;</span> <span class="dv">0</span>) , <span class="at">epsilon =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.17018 0.0067</code></pre>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="4.9-atkinson-index-svyatk.html#cb314-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , <span class="fu">subset</span>(z81 , eybhc0 <span class="sc">&gt;</span> <span class="dv">0</span>) , <span class="at">epsilon =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        atkinson    SE
## eybhc0  0.27558 0.026</code></pre>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="4.9-atkinson-index-svyatk.html#cb316-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , <span class="fu">subset</span>(z81 , eybhc0 <span class="sc">&gt;</span> <span class="dv">0</span>) , <span class="at">epsilon =</span> <span class="fl">2.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.49927 0.0675</code></pre>
<p>Confirm this replication applies for subsetted objects as well, comparing stata code..</p>
<pre><code>. svyatk x if year == 1981 &amp; x &gt;= 1

Complex survey estimates of Atkinson inequality indices
 
pweight: wgt                                   Number of obs    = 9748
Strata: &lt;one&gt;                                  Number of strata = 1
PSU: hrn                                       Number of PSUs   = 7457
                                               Population size  = 54744234
---------------------------------------------------------------------------
Index    |  Estimate   Std. Err.      z      P&gt;|z|     [95% Conf. Interval]
---------+-----------------------------------------------------------------
A(0.5)   |  .0540059   .00105011    51.43    0.000      .0519477   .0560641
A(1)     |  .1066082   .00223318    47.74    0.000      .1022313   .1109852
A(1.5)   |  .1638299   .00483069    33.91    0.000       .154362   .1732979
A(2)     |  .2443206   .01425258    17.14    0.000      .2163861   .2722552
A(2.5)   |   .394787   .04155221     9.50    0.000      .3133461   .4762278
---------------------------------------------------------------------------</code></pre>
<p>..to R code:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="4.9-atkinson-index-svyatk.html#cb319-1" tabindex="-1"></a>z81_two <span class="ot">&lt;-</span> <span class="fu">subset</span>(z , year <span class="sc">==</span> <span class="dv">1981</span> <span class="sc">&amp;</span> eybhc0 <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb319-2"><a href="4.9-atkinson-index-svyatk.html#cb319-2" tabindex="-1"></a></span>
<span id="cb319-3"><a href="4.9-atkinson-index-svyatk.html#cb319-3" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , z81_two , <span class="at">epsilon =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0 0.054006 0.0011</code></pre>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="4.9-atkinson-index-svyatk.html#cb321-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , z81_two)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.10661 0.0022</code></pre>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="4.9-atkinson-index-svyatk.html#cb323-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , z81_two , <span class="at">epsilon =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.16383 0.0048</code></pre>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="4.9-atkinson-index-svyatk.html#cb325-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , z81_two , <span class="at">epsilon =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.24432 0.0143</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="4.9-atkinson-index-svyatk.html#cb327-1" tabindex="-1"></a><span class="fu">svyatk</span>( <span class="sc">~</span> eybhc0 , z81_two , <span class="at">epsilon =</span> <span class="fl">2.5</span>)</span></code></pre></div>
<pre><code>##        atkinson     SE
## eybhc0  0.39479 0.0416</code></pre>
<p>For additional usage examples of <code>svyatk</code>, type <code>?convey::svyatk</code> in the R console.</p>
</div>
</div>
<p style="text-align: center;">
<a href="4.8-social-welfare-function-based-measures.html"><button class="btn btn-default">Previous</button></a>
<a href="4.10-entropy-based-measures.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>



</body>
</html>
